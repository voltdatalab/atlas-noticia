<!DOCTYPE html>
<html>
	<head>
		<title>Tutorial de acesso à API via programação</title>
		
			<meta name="description" content="Acesse a API utilizando linguagens de programação">
		
		
		<meta property="og:url"                content="https://www.atlas.jor.br/" />
		<meta property="og:type"               content="page" />
		<meta property="og:title"              content="Tutorial de acesso à API via programação - Atlas da Notícia" />
		
			<meta property="og:description" content="Acesse a API utilizando linguagens de programação">
		
		<meta charset="UTF-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, minimum-scale=1.0">
<title>Tutorial de acesso à API via programação</title>

	<meta name="description" content="Acesse a API utilizando linguagens de programação">


<link rel="icon" href="/favicon.ico" type="image/x-icon">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:400,400i,500,500i,700,700i|Noto+Sans:400,400i,700,700i|Source+Code+Pro&amp;subset=latin-ext">
<link rel="stylesheet" href="/doks-theme/assets/css/style.css">
<link href="https://fonts.googleapis.com/css?family=Lato:300,400,700|Vollkorn:400,700" rel="stylesheet">
<meta property="og:url"                content="https://www.atlas.jor.br/" />
<meta property="og:type"               content="page" />
<meta property="og:title"              content="Tutorial de acesso à API via programação" />

	<meta property="og:description" content="Acesse a API utilizando linguagens de programação">

<meta property="og:image" content="https://raw.githubusercontent.com/voltdatalab/atlas-noticia/gh-pages/graficos/atlasdanoticia_img.jpg" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:site" content="https://atlas.jor.br" />
<meta name="twitter:creator" content="@atlasdanoticia" />


			<script>
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

	ga('create', 'UA-104963816-1', 'auto');
	ga('send', 'pageview');
</script>

	</head>
	<body class="red" data-spy="scroll" data-target=".js-scrollspy">
		
	<div class="offcanvas visible-xs">
		<ul class="offcanvas__nav">
			
				<li><a href="/desertos-de-noticia/">Desertos de notícia</a></li>
			
				<li><a href="/plataforma/dados">Dados</a></li>
			
				<li><a href="/plataforma/api">API</a></li>
			
				<li><a href="/plataforma/sobre">Sobre</a></li>
			
				<li><a href="/plataforma/formulario">Colabore</a></li>
			
				<li><a href="/english">ENGLISH</a></li>
			
		</ul><!-- /.offcanvas__nav -->
	</div><!-- /.offcanvas -->



	<header class="site-header">
		<div class="container">
			<div class="row">
				<div class="col-xs-12">
					
						<a href="/" class="site-header__logo"><img src="/doks-theme/assets/images/Atlas_verde_vermelho.svg" alt="logo" width="350px" style="margin-left:-35px" /></a>
						<!--<a href="/" class="site-header__logo">Atlas da Notícia</a>-->
					
					
						<ul class="site-header__nav hidden-xs">
							
								<li><a href="/desertos-de-noticia/">Desertos de notícia</a></li>
							
								<li><a href="/plataforma/dados">Dados</a></li>
							
								<li><a href="/plataforma/api">API</a></li>
							
								<li><a href="/plataforma/sobre">Sobre</a></li>
							
								<li><a href="/plataforma/formulario">Colabore</a></li>
							
								<li><a href="/english">ENGLISH</a></li>
							
						</ul><!-- /.site-header__nav -->
						<button class="offcanvas-toggle visible-xs">
							<span></span>
							<span></span>
							<span></span>
						</button><!-- /.offcanvas-toggle -->
					
				</div><!-- /.col -->
			</div><!-- /.row -->
		</div><!-- /.container -->
	</header><!-- /.site-header -->


		<div class="hero-subheader">
			<div class="container">
				<div class="row">
					<div class="col-md-7">
						<div class="align-container" data-mh>
							<div class="align-inner">
								
									<h1 class="hero-subheader__title" style="background-color: #ededed;display:inline">Tutorial de acesso à API via programação</h1><br />
								
								
									<h4 class="hero-subheader__desc" style="background-color: #ededed;display:inline">Acesse a API utilizando linguagens de programação</h4><br />
								
								
									<small style="background-color: #ededed;display:inline">Para se cadastrar na API, <a href='https://api.atlas.jor.br/register' target='_blank'>clique aqui</a>. Acesse o GitHub do pacote R <a href='https://github.com/voltdatalab/newsatlasbr' target='_blank'>aqui</a>.</small><br />
								
								

								
							</div><!-- /.align-inner -->
						</div><!-- /.align-container -->
					</div><!-- /.col -->
					
				</div><!-- /.row -->
			</div><!-- /.container -->
		</div><!-- /.hero-subheader -->
		<div class="section">
			<div class="container">
				<div class="row">
					<div class="col-md-7">
						<div class="content">
							<style>
p img{
  border: 1px solid #333
}
</style>

<p><a href="/plataforma/api/utilizarAPI"><button class="btn btn--dark btn--rounded btn--w-icon" style="display:inline">Cadastre-se na API</button></a> <a href="/plataforma/api/documentacaoAPI }}"><button class="btn btn--dark btn--rounded btn--w-icon" style="display:inline"> Acesse a documentação </button></a></p>

<p>O acesso utilizando a linguagem de programação R ou Python segue o mesmo processo daquele obtido via aplicação, cujo tutorial <a href="/plataforma/api/API_app">pode ser encontrado neste link</a></p>

<h2 id="acesso-via-r">Acesso via R</h2>

<p>Antes de acessar diretamente a API do <strong>Atlas da Notícia</strong> utilizando R, considere que temos um <a href="/plataforma/api/pacote">pacote R</a> específico para essa linguagem, que facilita bastante o acesso aos dados.</p>

<p>Caso queira utilizar a API sem o pacote, vamos utilizar os pacotes <code class="language-plaintext highlighter-rouge">httr</code>, para fazer requisições ao servidor, e <code class="language-plaintext highlighter-rouge">jsonlite</code>, para converter os dados de json para formato tabular.</p>

<p>Para gerar seu token, é necessário fazer uma requisição <code class="language-plaintext highlighter-rouge">POST</code>. Para isso, utilize o código a seguir:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>token = content(
    POST(url = "https://api.atlas.jor.br/api/v1/auth/login",
             body = list("email" = "email@email.com", "password" = "12345678"),
             encode = "json", handle = NULL),
        as = "text")
</code></pre></div></div>

<p>Depois dessa etapa, vamos salvar o retorno inteiro (token e metadata) como variável a partir do json retornado <code class="language-plaintext highlighter-rouge">token = fromJSON(token)</code>, e então próprio token como variável <code class="language-plaintext highlighter-rouge">tk &lt;- token[[1]]</code>, a fim de autenticar nossa consulta à base de dados.</p>

<p>Com a autenticação feita, resta apenas realizar uma requisição <code class="language-plaintext highlighter-rouge">GET</code> e transformá-la em uma tabela. Abaixo, um exemplo que retorna os veículos do Estado de Rondônia.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tabela &lt;- fromJSON(content(GET(url = "https://api.atlas.jor.br/api/v1/data/analytic?estado=RO",
    add_headers(Authorization = paste("Bearer", tk, sep = " "))),
    as = "text"))
</code></pre></div></div>

<p>Veja o código completo abaixo, que pode ser acessando também <a href="https://gist.github.com/sergiospagnuolo/f7b5bdd2fc430c791746a39d99319406.js">neste link</a>.</p>

<script src="https://gist.github.com/sergiospagnuolo/f7b5bdd2fc430c791746a39d99319406.js"></script>

<h2 id="acesso-via-python">Acesso via Python</h2>

<script src="https://gist.github.com/sergiospagnuolo/5b5583c8e18fe555cdd629f744a54799.js"></script>


						</div><!-- /.content -->
					</div><!-- /.col -->
					<div class="col-md-4 col-md-offset-1">
						<div class="sections-list-wrapper">
							<div class="sections-list js-sections js-affix js-scrollspy hidden-xs hidden-sm"></div><!-- /.sections-list -->
						</div>
					</div><!-- /.col -->
				</div><!-- /.row -->
			</div><!-- /.container -->
		</div><!-- /.section -->
		
		<div class="js-footer-area">
			
			
				<div class="micro-nav">
	<div class="container">
		<div class="row">
			<div class="col-xs-12">
				<a href="/" class="micro-nav__back">
					<i class="icon icon--arrow-left"></i>
					Voltar à home
				</a><!-- /.micro-nav__back -->
			</div><!-- /.col -->
		</div><!-- /.row -->
	</div><!-- /.container -->
</div><!-- /.micro-nav -->

			
			
	<footer class="site-footer">
		<div class="container">
			<div class="row">
				<div class="col-sm-6">
					<h6>Realização <img src="/doks-theme/assets/images/outros_logos/logo_projor.png" class="logosfooter" /></h6><br />
					<h6>Desenvolvimento <img src="/doks-theme/assets/images/outros_logos/logo_volt.png" width="90px" class="logosfooter"/> </h6><br />
					<h6>Apoio <img src="/doks-theme/assets/images/outros_logos/facebook_logo.png" class="logosfooter"/> </h6><br />
					<h6>Parceria institucional <img src="/doks-theme/assets/images/outros_logos/abraji_logo.png"  style="margin-top:-10px" class="logosfooter"/> &nbsp;&nbsp; <img src="/doks-theme/assets/images/outros_logos/intercom.png" class="logosfooter"/></h6><br />
					<hr />
					
					
					  <p class="site-footer__copyright" style="line-height:1.6em">2021 - Os textos e dados deste projeto são licenciados sob <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a> <a rel="license" href="http://creativecommons.org/licenses/by/4.0/"></a> <img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/80x15.png" />.</p>
					
				</div><!-- /.col -->
				
					<div class="col-sm-6 align-right">
						<ul class="social-list">
							
								<li>
									<a href="https://www.facebook.com/atlasdanoticia" target="_blank" class="social-list__item social-list__item--facebook">
										<i class="icon icon--facebook"></i>
									</a>
								</li>
							
								<li>
									<a href="https://twitter.com/atlasdanoticia" target="_blank" class="social-list__item social-list__item--twitter">
										<i class="icon icon--twitter"></i>
									</a>
								</li>
							
								<li>
									<a href="https://medium.com/atlas-da-noticia" target="_blank" class="social-list__item social-list__item--medium">
										<i class="icon icon--medium"></i>
									</a>
								</li>
							
								<li>
									<a href="https://github.com/voltdatalab/atlas-analytics" target="_blank" class="social-list__item social-list__item--github">
										<i class="icon icon--github"></i>
									</a>
								</li>
							
						</ul><!-- /.social-list -->
						<a href="mailto:contato@atlas.jor.br"><h6><strong>contato@atlas.jor.br</strong></h6></a>

					</div><!-- /.col -->
				
				<br /><br /><br />
				<form style="padding:3px;text-align:right;" action="https://sendy.voltdata.info/subscribe" method="POST" accept-charset="utf-8">
					<h6>Assine nossa newsletter. É gratuita.</h6>
					<!--<label for="name">Name</label><br/>-->
					<input type="text" name="name" id="name" placeholder="Nome"/>
					<br/>
					<!--<label for="email">Email</label><br/>-->
					<input type="email" name="email" id="email" placeholder="Email"/><br />
					<div style="display:none;">
					<label for="hp">HP</label>
					<input type="text" name="hp" id="hp"/>
					</div>
					<input type="hidden" name="list" value="7Hx5O7QmgeoWG6M2WVTmkg"/>
					<input type="hidden" name="subform" value="yes"/>
					<input style="border:none;height:24px;background-color:#008596 !important;color:#fff !important;cursor:pointer" type="submit" name="submit" id="submit" placeholder="Receber"/>
				</form>
			</div><!-- /.row -->
		</div><!-- /.container -->
	</footer><!-- /.site-footer -->


<script src="/doks-theme/assets/js/vendor/jquery.min.js"></script>
<script type="text/javascript" src="/doks-theme/assets/js/vendor/bootstrap/affix.min.js"></script>
<script type="text/javascript" src="/doks-theme/assets/js/vendor/bootstrap/scrollspy.min.js"></script>
<script type="text/javascript" src="/doks-theme/assets/js/vendor/matchHeight.min.js"></script>
<script type="text/javascript" src="/doks-theme/assets/js/scripts.min.js"></script>

<script>
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

	ga('create', 'UA-104963816-1', 'auto');
	ga('send', 'pageview');
</script>


		</div><!-- /.js-footer-area -->
	</body>
</html>
