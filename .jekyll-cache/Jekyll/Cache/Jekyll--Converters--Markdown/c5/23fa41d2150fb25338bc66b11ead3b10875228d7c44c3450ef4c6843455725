I"´%<style>
p img{
  border: 1px solid #333
}
</style>

<p><a href="/plataforma/api/utilizarAPI"><button class="btn btn--dark btn--rounded btn--w-icon" style="display:inline">Cadastre-se na API</button></a> <a href="/plataforma/api/documentacaoAPI }}"><button class="btn btn--dark btn--rounded btn--w-icon" style="display:inline"> Acesse a documenta√ß√£o </button></a></p>

<h2 id="acesso-via-hoppscotch">Acesso via Hoppscotch</h2>

<p>Hoppscotch √© um aplicativo online gratuito direto e f√°cil de usar. N√£o possui todos recursos de outros aplicativos, como o Postman, mas facilita e muito a utiliza√ß√£o para uso simples da API.</p>

<p><a href="https://hoppscotch.io/">Abra o site do Hoppscotch</a>. Voc√™ pode escolher se logar via Google ou GitHub para ter uma experi√™ncia melhor, mas n√£o √© necess√°rio para utilizar a ferramenta.</p>

<p>Sua √°rea de trabalho vai estar totalmente em branco.</p>

<p><img src="/graficos/hopp_inicial.png" alt="" /></p>

<h3 id="1¬∫-passo-retornar-seu-token-de-acesso">1¬∫ Passo: retornar seu token de acesso</h3>

<p>Para acessar a API do <strong>Atlas da Not√≠cia</strong> voc√™ vai precisar estar cadastrado no nosso sistema, o que lhe permitir√° gerar uma chave de acesso (ou token) para que sua aplica√ß√£o possa puxar nossos dados. Isso √© feito para evitar abusos nos servidores, aumentado a seguran√ßa.</p>

<p>A forma correta de conseguir seu token √© realizar uma requisi√ß√£o via m√©todo <code class="language-plaintext highlighter-rouge">POST</code>, que solicita ao servidor o envio de dados anexados ao corpo (ou <code class="language-plaintext highlighter-rouge">body</code>) da requisi√ß√£o.</p>

<p>No canto superior direito do Hoppscotch, altere o m√©todo para <code class="language-plaintext highlighter-rouge">POST</code>, acrescentando, ao lado, a seguinte URL <code class="language-plaintext highlighter-rouge">https://api.atlas.jor.br/api/v1/auth/login</code>.</p>

<p><img src="/graficos/hopp_post.png" alt="" /></p>

<p>Antes de enviar sua requisi√ß√£o para o servidor, vamos precisar tamb√©m incluir suas credenciais de acesso √† API ‚Äì o mesmo email e senha que voc√™ usou para se cadastrar.</p>

<p><a href="/plataforma/api/utilizarAPI"><button class="btn btn--dark btn--rounded btn--w-icon" style="display:inline">Cadastre-se na API</button></a></p>

<p>Certifique-se de que o <em>Content Type</em> esteja como <code class="language-plaintext highlighter-rouge">application/json</code> (que nada mais √© do que o formato que o token vai ser entregue para voc√™) e que o bot√£o <em>Raw input</em> esteja com o tick na esquerda, ou seja, desativado (tamb√©m √© poss√≠vel fazer a requisi√ß√£o via <em>Raw input</em>, mas nesse caso n√£o √© necess√°rio). Voc√™ pode tamb√©m acrescentar um r√≥tulo (<em>label</em>) como refer√™ncia se quiser.</p>

<p>Agora basta clicar <strong>ENVIAR</strong>.</p>

<p><img src="/graficos/hopp_credenciais.png" alt="" /></p>

<p>Caso tudo esteja certo com sua requisi√ß√£o aos nossos servidores, voc√™ vai receber no p√© da p√°gina uma mensagem de resposta de status <code class="language-plaintext highlighter-rouge">200</code> (sucesso), com o seu token logo abaixo. Voc√™ vai precisar copiar apenas do token (pode desconsiderar os outros dois campos).</p>

<p>Note que o prazo de validade de cada token √© de 3.600 segundos, ou uma hora, a partir da qual ele n√£o ser√° mais v√°lido e o processo para requisitar uma nova chave ter√° que ser feito novamente.</p>

<p><img src="/graficos/hopp_resposta200.png" alt="" /></p>

<p>Com o token em m√£os, podemos prosseguir para buscar os dados diretamente da API</p>

<h3 id="2¬∫-passo-utilizar-o-token">2¬∫ Passo: utilizar o token</h3>

<p>Agora vamos mudar o m√©todo, utilizando agora <code class="language-plaintext highlighter-rouge">GET</code>, com o qual, em vez de solicitar aceita√ß√£o de dados enviados pelo usu√°rio, vamos pedir para o servidor enviar os dados que queremos.</p>

<p>Tamb√©m ser√° necess√°rio acrescentar a autentica√ß√£o de suas credenciais, mediante o uso do <em>bearer</em> token que voc√™ copiou agora pouco, conforme a figura abaixo.</p>

<p><img src="/graficos/hopp_bearer.png" alt="" /></p>

<h3 id="3¬∫-passo-retornando-os-dados">3¬∫ Passo: retornando os dados</h3>

<p>A parte chata, de utiliza√ß√£o do token, j√° ficou para tr√°s. Agora, tudo o que vamos fazer √© trabalhar com os dados do <strong>Atlas da Not√≠cia</strong>.</p>

<p>Nossa API funciona a partir de <em>endpoints</em>, ou seja, pontos que retornam os dados que queremos.</p>

<p>Como exemplo, vamos utilizar o <em>endpoint</em> que nos retorna os dados com os n√∫meros desertos de not√≠cia (ou seja, munic√≠pios sem organiza√ß√µes jornal√≠sticas) agregados por estado. Para saber todos os <em>endpoints</em> e retornos poss√≠veis, acesse a <a href="/plataforma/api/documentacaoAPI }}">documenta√ß√£o</a>.</p>

<p>Coloque o seguinte <em>endpoint</em> na barra de URL e clique enviar: <code class="language-plaintext highlighter-rouge">https://api.atlas.jor.br/api/v1/data/qtd-cities-without-media-state</code></p>

<p>Se funcionar, no campo de resposta, no p√© da p√°gina, a servidor vai retornar os dados solicitados, utilizando um formato de armazenamento de dados chamado JSON.</p>

<p>Voil√°! Voc√™ consegui acessar os dados. Copie-os utilizando o bot√£o no canto direito (seta vermelha da imagem).</p>

<p><img src="/graficos/hopp_retorno_dados.png" alt="" /></p>

<p>Agora, basta utilizar um conversor de JSON para csv, como o <a href="https://konklone.io/json/">Konklone</a>, para que tenha os dados todos tabulados para voc√™ utilizar.</p>

<h2 id="acesso-via-postman">Acesso via Postman</h2>

<p>Postman √© um aplicativo que, entre outras coisas, facilita o acesso aos dados de uma API. Voc√™ pode fazer o download do aplicativo <a href="https://www.getpostman.com/">neste link</a>. Outros aplicativos e servi√ßos similares incluem <a href="https://cloud.google.com/apigee">Google APIGee</a>, <a href="https://aws.amazon.com/pt/api-gateway/">Amazon API Gateway</a>.</p>

<p>Abra o Postman e clique em <code class="language-plaintext highlighter-rouge">New &gt;&gt; Get Request</code>.</p>

<p><img src="../../../graficos/postman_get.png" alt="postman get" /></p>

<p>Na barra de navera√ß√£o √© necess√°rio selecionar a op√ß√£o <code class="language-plaintext highlighter-rouge">POST</code> e colocar a seguinte URL: <code class="language-plaintext highlighter-rouge">https://api.atlas.jor.br/api/v1/auth/login</code>. Essa URL vai fazer com que sua requisi√ß√£o de login seja feita ao servidor do <em>Atlas da Not√≠cia</em>.</p>

<p><img src="../../../graficos/postman_barra_nav.png" alt="postman get" /></p>

<p>Agora √© necess√°rio colocar as credenciais necess√°rias para que o login seja feito. Utilize seu login e senha escolhidos no momento do registro da API.</p>

<p>Para isso, clique na aba <code class="language-plaintext highlighter-rouge">Body</code> e coloque copie e cole o seguinte c√≥digo substituindo os valores abaixo por sua pr√≥pria credencial:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
    "email": "nome@email.com",
    "password": "12345678"
}
</code></pre></div></div>

<p>Isso vai gerar um <code class="language-plaintext highlighter-rouge">access_token</code>, com o qual voc√™ vai poder retornar dados do nosso banco de dados. Esse recurso √© utilizado para dar mais seguran√ßa √†s informa√ß√µes e evitar abusos a nossos servidores gratuitos.</p>

<p>Certifique-se de que o formato escolhido esteja com a caixa selecionada <code class="language-plaintext highlighter-rouge">RAW</code> e que o retorno seja em <code class="language-plaintext highlighter-rouge">JSON</code>, conforme as flechas indicam na figura abaixo.</p>

<p><img src="../../../graficos/postman_bearer.png" alt="postman get" /></p>

<p>Clique no bot√£o azul <code class="language-plaintext highlighter-rouge">SEND</code>, o que retornar√° seu token mais abaixo na tela.</p>

<p>O pr√≥ximo passo √© criar uma aba nova no Postman e utilizar a fun√ß√£o <code class="language-plaintext highlighter-rouge">GET</code>. Isso que vai retornar os dados para dentro de seu aplicativo.</p>

<p>Mas antes, √© necess√°rio informar √† sua aplica√ß√£o o token que voc√™ vai utilizar, caso contr√°rio o servidor n√£o vai reconhecer seu login. Clique em <code class="language-plaintext highlighter-rouge">Authorization</code> e escolha o tipo de autoriza√ß√£o como <code class="language-plaintext highlighter-rouge">Type = Bearer</code>. Na caixa do lado
√© poss√≠vel colar o token que voc√™ acabou de gerar na outra aba. Lembrando que esse token se renova a cada uma hora.</p>

<p>Um exemplo de API que voc√™ pode testar para ver se seu retorno est√° funcionando √© <code class="language-plaintext highlighter-rouge">https://api.atlas.jor.br/api/v1/data/analytic?estado=RO</code>, a qual retorna todos os ve√≠culos do Estado de Rond√¥nia.</p>

<p>Para saber as URLs v√°lidas, que retornam dados, √© preciso ler a documenta√ß√£o da API e entender as combina√ß√µes poss√≠veis. Por exemplo a URL <code class="language-plaintext highlighter-rouge">https://api.atlas.jor.br/api/v1/data/analytic?segmento=Online&amp;estado=SP</code> retorna todos os ve√≠culos online do Estado de S√£o Paulo.</p>

<p><a href="/plataforma/api/documentacaoAPI }}"><button class="btn btn--dark btn--rounded btn--w-icon"> Acesse a documenta√ß√£o da API </button></a></p>

<p>Basta clicar em <code class="language-plaintext highlighter-rouge">SEND</code> e ver abaixo na tela o resultado.</p>

<p><img src="../../../graficos/postman_results.png" alt="postman get" /></p>
:ET