I"ÿ<style>
p img{
  border: 1px solid #333
}
</style>

<p><a href="/plataforma/API/utilizarAPI"><button class="btn btn--dark btn--rounded btn--w-icon" style="display:inline">Cadastre-se na API</button></a> <a href="/plataforma/api/documentacaoAPI }}"><button class="btn btn--dark btn--rounded btn--w-icon" style="display:inline"> Acesse a documenta√ß√£o </button></a></p>

<p>O acesso utilizando a linguagem de programa√ß√£o R ou Python segue o mesmo processo daquele obtido via aplica√ß√£o, cujo tutorial <a href="/plataforma/api/API_app">pode ser encontrado neste link</a></p>

<h2 id="acesso-via-r">Acesso via R</h2>

<p>Antes de acessar diretamente a API do <strong>Atlas da Not√≠cia</strong> utilizando R, considere que temos um <a href="/plataforma/api/pacote">pacote R</a> espec√≠fico para essa linguagem, que facilita bastante o acesso aos dados.</p>

<p>Caso queira utilizar a API sem o pacote, vamos utilizar os pacotes <code class="language-plaintext highlighter-rouge">httr</code>, para fazer requisi√ß√µes ao servidor, e <code class="language-plaintext highlighter-rouge">jsonlite</code>, para converter os dados de json para formato tabular.</p>

<p>Para gerar seu token, √© necess√°rio fazer uma requisi√ß√£o <code class="language-plaintext highlighter-rouge">POST</code>. Para isso, utilize o c√≥digo a seguir:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>token = content(
    POST(url = "https://api.atlas.jor.br/api/v1/auth/login",
             body = list("email" = "email@email.com", "password" = "12345678"),
             encode = "json", handle = NULL),
        as = "text")
</code></pre></div></div>

<p>Depois dessa etapa, vamos salvar o retorno inteiro (token e metadata) como vari√°vel a partir do json retornado <code class="language-plaintext highlighter-rouge">token = fromJSON(token)</code>, e ent√£o pr√≥prio token como vari√°vel <code class="language-plaintext highlighter-rouge">tk &lt;- token[[1]]</code>, a fim de autenticar nossa consulta √† base de dados.</p>

<p>Com a autentica√ß√£o feita, resta apenas realizar uma requisi√ß√£o <code class="language-plaintext highlighter-rouge">GET</code> e transform√°-la em uma tabela. Abaixo, um exemplo que retorna os ve√≠culos do Estado de Rond√¥nia.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tabela &lt;- fromJSON(content(GET(url = "https://api.atlas.jor.br/api/v1/data/analytic?estado=RO",
    add_headers(Authorization = paste("Bearer", tk, sep = " "))),
    as = "text"))
</code></pre></div></div>

<p>Veja o c√≥digo completo abaixo, que pode ser acessando tamb√©m <a href="https://gist.github.com/sergiospagnuolo/f7b5bdd2fc430c791746a39d99319406.js">neste link</a>.</p>

<script src="https://gist.github.com/sergiospagnuolo/f7b5bdd2fc430c791746a39d99319406.js"></script>

<h2 id="acesso-via-python">Acesso via Python</h2>

<script src="https://gist.github.com/sergiospagnuolo/5b5583c8e18fe555cdd629f744a54799.js"></script>

:ET